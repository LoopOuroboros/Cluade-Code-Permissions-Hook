# Claude-Code æƒé™é’©å­æ’ä»¶

## ğŸ“– é¡¹ç›®ç®€ä»‹

Claude-Code æƒé™é’©å­æ’ä»¶é€šè¿‡æ™ºèƒ½é’©å­ç³»ç»Ÿæ‹¦æˆªå±é™©çš„ Bash å‘½ä»¤ï¼Œå¼•å¯¼ç”¨æˆ·ä½¿ç”¨ Claude Code å†…ç½®çš„å®‰å…¨å·¥å…·ï¼Œæ„å»ºæ›´å®‰å…¨çš„å‘½ä»¤æ‰§è¡Œç¯å¢ƒã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½å‘½ä»¤æ‹¦æˆª**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ‹¦æˆªå±é™©å‘½ä»¤
- **ç®¡é“ä½ç½®æ£€æµ‹**ï¼šåŒºåˆ†ç®¡é“å‘èµ·ç«¯ä¸æ¥æ”¶ç«¯ï¼Œå®‰å…¨åœºæ™¯è‡ªåŠ¨æ”¾è¡Œ
- **å®‰å…¨æ›¿ä»£æ¨è**ï¼šä¸ºæ¯ä¸ªæ‹¦æˆªå‘½ä»¤æä¾› Claude å†…ç½®å·¥å…·ä»£æ›¿æ–¹æ¡ˆ
- **å¯é…ç½®è§„åˆ™ç³»ç»Ÿ**ï¼šæ”¯æŒåŠ¨æ€è§„åˆ™é…ç½®å’Œæ‰©å±•

## ğŸ”§ æ‹¦æˆªè§„åˆ™

| å±é™©å‘½ä»¤ | æ¨èæ›¿ä»£å·¥å…· | è¯´æ˜ |
|---------|-------------|------|
| `find` | `Glob` å·¥å…· | å†…ç½®æ¨¡å¼åŒ¹é… |
| `grep` | `Grep` å·¥å…· | ç®¡é“æ¥æ”¶ç«¯è‡ªåŠ¨æ”¾è¡Œ |
| `cat/head/tail` | `Read` å·¥å…· | æ™ºèƒ½æ–‡ä»¶è¯»å– |
| `sed` | `Edit` å·¥å…· | åŸå­æ€§ç¼–è¾‘ |
| `awk` | `Grep` + `Read` ç»„åˆ | å¤æ‚æ–‡æœ¬å¤„ç† |
| `curl/wget` | `WebFetch`/`WebSearch` | ç½‘ç»œè¯·æ±‚ |

## ğŸš€ å®‰è£…æŒ‡å—

### æ–¹å¼ä¸€ï¼šå¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰

1. é¦–å…ˆæ³¨å†Œå¸‚åœºï¼ˆå¦‚æœªæ³¨å†Œï¼‰ï¼š
```bash
/plugin marketplace add LoopOuroboros/Cluade-Code-Permissions-Hook
```

2. å®‰è£…æ’ä»¶ï¼š
```bash
/plugin install LoopOuroboros@Cluade-Code-Permissions-Hook
```

3. é‡å¯ Claude Code ä½¿æ’ä»¶ç”Ÿæ•ˆ

### æ–¹å¼äºŒï¼šæœ¬åœ°è°ƒè¯•ï¼ˆå¼€å‘ç”¨é€”ï¼‰

1. å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°ï¼š
```bash
git clone https://github.com/LoopOuroboros/Cluade-Code-Permissions-Hook.git
```

2. åŒæ­¥ä»£ç åˆ°å®é™…æ’ä»¶è¿è¡Œç›®å½•ï¼ˆä»…ç”¨äºå¼€å‘è°ƒè¯•ï¼‰ï¼š
```powershell
# Windows
.\.claude\rules\deploy-plugin.bat

# Linux/macOS
./.claude/rules/deploy-plugin.sh
```

> **âš ï¸ æ³¨æ„**ï¼šæ­¤æ–¹å¼ä»…ç”¨äºæ’ä»¶å¼€å‘è°ƒè¯•ã€‚æ­£å¼å®‰è£…è¯·ä½¿ç”¨å¸‚åœºå®‰è£…æ–¹å¼ã€‚

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šå®‰å…¨æ”¾è¡Œï¼ˆç®¡é“åœºæ™¯ï¼‰
```bash
echo "test" | grep "test"
```
âœ… **ç»“æœ**ï¼šè‡ªåŠ¨æ”¾è¡Œï¼ˆè¯†åˆ«ä¸ºå®‰å…¨ç®¡é“æ“ä½œï¼‰

### åœºæ™¯2ï¼šæ‹¦æˆªå±é™©å‘½ä»¤
```bash
grep "pattern" file.txt
```
âš ï¸ **ç»“æœ**ï¼š
```json
{
  "decision": "block",
  "reason": "âš ï¸ grepå‘½ä»¤è¢«æ‹¦æˆªï¼Œä½¿ç”¨å†…ç½®çš„Grepå·¥å…·ä»£æ›¿"
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ bash-permission-hook/          # æ’ä»¶ä¸»ä½“
â”‚   â”œâ”€â”€ scripts/check-command.js   # æ ¸å¿ƒæ£€æŸ¥é€»è¾‘
â”‚   â”œâ”€â”€ config/config.json         # è§„åˆ™é…ç½®
â”‚   â””â”€â”€ tests/test.js              # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ .claude/rules/                 # éƒ¨ç½²è§„åˆ™
â””â”€â”€ docs/                          # è®¾è®¡æ–‡æ¡£
```

## ğŸ§ª æµ‹è¯•éªŒè¯

è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼š
```bash
cd bash-permission-hook
node tests/test.js
```

æ‰‹åŠ¨æµ‹è¯•ç¤ºä¾‹ï¼š
```bash
echo '{"tool_input": {"command": "echo \"test\" | grep \"test\""}}' | node scripts/check-command.js
```

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®æŒ‡å—

è¯¦è§ [CLAUDE.md](CLAUDE.md)

---

**ç‰ˆæœ¬**ï¼šv1.0.0